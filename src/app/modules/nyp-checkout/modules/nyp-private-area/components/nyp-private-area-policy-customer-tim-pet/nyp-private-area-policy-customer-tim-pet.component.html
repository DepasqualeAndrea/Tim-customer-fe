<div class="p-10px m-10px card-shadow br-8px c-border-card border-solid border-1px d-md-block">
  <div class="policy-name-area text-center">
    <h3 class="policy-name-title text-center">{{policy.name}}</h3>
    <img [src]="policy.imageUrl" [alt]="policy.name">
    <div class="claim-container col-12 pt-30px">
      <button type="button" class="btn btn-primary btn-grey tim"
        [hidden]="(policy.product.product_code === 'tim-protezione-casa' || policy.product.product_code === 'tim-bill-protection')"
        [disabled]="!policy.policy_number || !policy.product.can_open_claim"
        (click)="openExternalClaim()"
        >
        {{"nyp_products_data.open_claim" | kentico }}
      </button>
    </div>

    <div class="col-12 redirect-info">
      <ng-container>
        <div class="pt-10px">{{'nyp_products_data.claim_text_1'| kentico}} </div>
        <img class="my-2" src='{{"nyp_products_data.company_image_mp" | kentico}}'>
        <p>{{'nyp_products_data.claim_text_2'| kentico}}</p>

      </ng-container>

    </div>
  </div>
  <div class="col-12">
    <div class="subtitle"><b>{{'nyp_products_data.my_policy_detail_subtitle' | kentico}}</b></div>
    <div class="row">
      <div class="col-12 col-sm-6 col-lg-4 policy-info">
        <label class="mb-0">{{'nyp_products_data.my_policy_number' | kentico}}</label>
        <p><b>{{policy.policy_number}}</b></p>
      </div>
      <div class="col-12 col-sm-6 col-lg-4 pb-3 policy-info">
        <label class="mb-0 row ml-0">{{'nyp_products_data.my_policy_state' | kentico}}</label>
        <span [ngClass]="getStatusColorClass(policy)"></span>
        <span class="status-description ml-2"><b>{{ getPolicyStatus(policy)}}</b></span>
      </div>
      <div class="col-12 col-sm-6 col-lg-4 policy-info">
        <label style="text-transform: capitalize;" class="mb-0">{{petKindLabel}}</label>
        <p><b>{{petName}}</b></p>
      </div>
      <div class="col-12 col-sm-6 col-lg-4 policy-info">
        <label class="mb-0">{{'nyp_products_data.my_policy_detail_initial_date' | kentico}}</label>
        <p><b>{{formattedStartDate}}</b></p>
      </div>
      <div class="col-12 col-sm-6 col-lg-4 policy-info">
        <label class="mb-0">{{'nyp_products_data.my_policy_detail_expiration_date' | kentico}}</label>
        <p><b>{{formattedExpirationDate}}</b></p>
      </div>
      <!--<div class="col-12 col-sm-6 col-lg-4 policy-info" *ngIf="duration">
        <label class="mb-0">{{'private_area.duration'}}</label>
        <p>{{duration}}</p>
      </div>-->
      <div class="col-12 col-sm-6 col-lg-4 policy-info"> <!--*ngIf="policy"-->
        <label class="mb-0">{{'nyp_products_data.my_policy_detail_value' | kentico}}</label>
        <p><b>{{policy.payment.payment_sources[0].amount | currency}}</b></p>
      </div>
    </div>
    <app-nyp-private-area-policy-detail-payment [policy]="policy"></app-nyp-private-area-policy-detail-payment>
    <div class="row extra pb-3 pt-3 ">
      <div class="col-sm-12 col-lg-6 p-0"> <!--*ngIf="isCertificateMissing(policy)"-->
        <div class="certificate">
          <i class="far fa-file-pdf "></i>
          <a (click)="downloadFile(policy)">{{'nyp_products_data.download_pdf_certificate' | kentico}}</a>
        </div>
      </div>
      <div class="col-sm-12 col-lg-6 p-0"><!--*ngIf="infoPackageDownload() && policy.product.information_package"-->
        <div class="certificate">
          <i class="far fa-file-pdf "></i>
          <a href="{{policy.product.information_package}}" target="_blank">{{'nyp_products_data.download_info_set' |
            kentico}}</a>
        </div>
      </div>
    </div>
    <div class="mt-2">
      <div class="row papery-doc">
        <div class="col-12 request-paper-versione-title">
          <p><b>{{'nyp_products_data.request_paper_versione_title' | kentico}}</b></p>
        </div>
        <div class="col-12">
          <span class="request-paper-versione-text"
            [innerHTML]="'nyp_products_data.request_paper_versione_text' | kentico"></span>
        </div>
      </div>
    </div>
    <div class="col-12 text-right policy-action">
      <a *ngIf="policy.actions_availability.withdrawable" (click)="openModalWithdrawal()">{{
        'nyp_products_data.withdrawal' | kentico }}</a>
    </div>
  </div>
  <div class="col-12 text-right policy-action">
    <a *ngIf="policy.actions_availability.deactivable" (click)="openModalCancelation()">{{
      'nyp_products_data.cancelation' | kentico }}</a>
  </div>
</div>
