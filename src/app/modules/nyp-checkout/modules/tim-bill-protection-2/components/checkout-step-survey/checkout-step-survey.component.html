<div #body class="container" *ngIf="['survey'].includes(state); else summary;">
    <div class="row-shadowed basic-style tim-broker-customers_db ng-invalid ng-dirty ng-touched">
        <h5 class="step-title c-black pt-3 pb-3" style="text-transform: uppercase;">
            {{'tim_bill_protection.survey_title_bp' | kentico}}</h5>
        <form [formGroup]="form" (ngSubmit)="handleNextStep()" style="font-size: 16px !important;">
            <ul class="question-container">
                <li *ngFor="let question of  questions" class="item-question">
                    <span class="question">{{question.content}}</span>
                    <ul class="answer-container tim-broker-customers_db p-0" [ngClass]="{'flex-column': question.answers | hasLongTextAnswers}">
                        <li *ngFor="let answer of question.answers"
                            class="form-check ng-untouched ng-pristine ng-valid col p-0">
                            <label class="form-big-radio c-black" for="answer-{{answer.value}}-{{question.id}}">
                                <input stickytriggerreset="" type="radio" class="form-check-input"
                                    [value]="answer.value" [formControlName]="question.id"
                                    id="answer-{{answer.value}}-{{question.id}}">
                                {{answer.value}}
                                <span class="checkmark tim-broker-customers_db"></span>
                            </label>
                            <span *ngIf="errors[question.id][answer.value] as errorLabel" class="c-red t-11">
                                {{errorLabel | kentico}}
                            </span>
                        </li>
                    </ul>
                </li>
            </ul>

            <div class="row justify-content-center btn-toolbar">
                <!-- <button class="basic-outline c-cta m-1" style="border-radius: 0px; border: 2px solid #0164F2;"
                    (click)="handlePrevStep()"><span class="c-cta"
                        style="font-weight: normal;">{{"tim_bill_protection.survey_back_btn_bp" |
                        kentico}}</span></button> -->
                <button id="continuaStep3_test" omniturecta="continua" omnitureposition="1"
                    class="basic-btn c-bg-cta m-1 c-white" style="border-radius: 0px"
                    [disabled]="form.invalid">{{"tim_bill_protection.survey_continue_btn_bp" | kentico}}</button>
            </div>
        </form>
    </div>

</div>



<!-- SUMMARY -->

<ng-template #summary>
    <ng-container class="p-10px m-10px card-shadow br-8px c-border-card border-solid border-1px d-md-block"
        *ngIf="summaryStates.includes(state); else title;">
        <div class="row body t-15">
            <div class="d-flex">
                <img class="" [src]="'tim_bill_protection.flag_icon' | kentico" />
                <div class="d-flex flex-column pl-3 t-14 c-black mt-2">
                    <div>{{"tim_bill_protection.survey_summary_title"| kentico}}</div>
                    <div class="font-weight-bold mt-1">
                        <div><b>{{"tim_bill_protection.survey_summary_description"| kentico}}</b></div>
                    </div>
                </div>
            </div>
        </div>
    </ng-container>
</ng-template>

<ng-template #hide>
    <ng-container #innerhide></ng-container>
</ng-template>
