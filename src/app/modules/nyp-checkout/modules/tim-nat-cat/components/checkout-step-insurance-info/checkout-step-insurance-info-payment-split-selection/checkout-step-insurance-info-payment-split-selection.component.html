<div class="mb-3">
  <div class="upper-content step-content mb-3">
    <span class="t-20 mb-2" style="font-weight: bold;">{{kenticoContent?.title?.value}}</span>
    <span class="d-block mb-10px">{{kenticoContent?.subtitle?.value}}</span>
    <form [formGroup]="pricingForm" class="mt-3">
      <div class="price-options">
        <div *ngFor="let option of options" class="option-item">
          <ng-container *ngIf="getButtonForOption(option) as button">
            <div class="input-choice">
              <div class="choice-el-container">
                <label class="form-big-radio" [for]="'option-' + option.description" [class.selected]="pricingForm.get('selectedOption')?.value === option?.description">
                  <input type="radio" formControlName="selectedOption" [value]="option?.description" [id]="'option-' + option.description" />
                  <span class="checkmark"></span>
                </label>
                <div class="radio-label">
                  <div *ngIf="button?.title" class="button-title">{{kenticoContent?.split_label?.value}} {{button?.title}}</div>
                  <div *ngIf="button?.subtitle" class="button-subtitle">{{button?.subtitle}}</div>
                </div>
              </div>
            </div>
            <div class="price-container">
              <div class="main-price" *ngIf="button.durationLabel && content?.currency">
                {{formatPrice(option?.price)}}{{content?.currency}}/<span class="frequency">{{button?.durationLabel}}</span>
              </div>
              <ng-container *ngIf="option?.description !== options[options.length - 1].description">
                <div class="default-price">{{(formatPrice(+option?.discountedPrice || option?.price))}}{{content?.currency}}/{{content?.defaultLabel}}</div>
              </ng-container>
            </div>
          </ng-container>
        </div>
      </div>
    </form>
  </div>
  <div class="d-flex justify-content-between">
    <button (click)="handlePrevStep()"
      class="border-0 bg-transparent fw-bold d-flex align-items-center justify-content-start custom-back-btn">
      {{kenticoContent?.back_btn_text.value}}
      <img [src]="kenticoContent?.icon_back_btn?.value[0]?.url" alt="Indietro" />
    </button>
    <button (click)="handleNextStep()" type="submit" class="basic-btn c-bg-cta m-1 c-white px-4 text-nowrap"
      style="border-radius: 14px;" [disabled]="!pricingForm.valid || quoteSuccessful !== true">{{kenticoContent?.confirm_btn_text?.value}}
    </button>
  </div>
</div>
