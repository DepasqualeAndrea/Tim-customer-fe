<div class="how-works-table-slider-container" data-cy="how-works-table-slider__container" [ngClass]="data.container_class">
  <div class="container">
    <div class="row">
      <div [ngClass]="data.text_container_size ? data.text_container_size : 'col-12 col-md-5'">
        <div class="text-container">
          <h2 class="title">{{data.title_section}}</h2>
          <div class="how-works-description" [innerHTML]="data.text_section" *ngIf="data.text_section"></div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="table-card">
          <!-- half slide swipe on desktop -->
          <div class="carousel slide d-none d-md-block" data-interval="false" data-keyboard="false" id="carouselSlides">
            <ul  class="carousel-indicators">
              <li *ngFor="let slide of data.slides; index as i;" [ngClass]="{'active': i==0}" attr.data-slide-to="{{i}}" data-target="#carouselSlides"></li>
            </ul>
            <div class="carousel-inner">
              <div class="carousel-item" [ngClass]="{'active': i==0}" *ngFor="let slide of data.slides; index as i;">
                <div class="col-md slide-column" *ngFor="let product of slide.product_content">
                  <h3 class="title">{{product.name}}</h3>
                  <ul class="item-list">
                    <ng-container *ngFor="let item of product.items_list">
                      <li [ngClass]="{'included': item.included}" class="primary-item" [innerHtml]="item.text"></li>
                    </ng-container>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <!-- full slide swipe on mobile -->
          <ngb-carousel #carouselMobile class="d-block d-md-none" [interval]="false" (swipe)="slide($event)" data-mc-options='{ "touchAction": "pan-y" }'>
            <ng-template ngbSlide *ngFor="let product of data.product_content">
              <div class="col-12 slide-column" [@animator]="animationState" (@animator.done)="resetAnimationState()">
                <h3 class="product-title">{{product.name}}</h3>
                <ul class="item-list">
                  <ng-container *ngFor="let item of product.items_list">
                    <li [ngClass]="{'included': item.included}" class="primary-item" [innerHtml]="item.text"></li>
                  </ng-container>
                </ul>
              </div>
            </ng-template>
          </ngb-carousel>
        </div>        
      </div>
    </div>
  </div>
</div>